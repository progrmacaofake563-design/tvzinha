<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>TV Retrô Ultra - Versão Gigante</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

        :root {
            /* Tamanho aumentado */
            --w: 380px; 
            --h: 260px; 
            --d: 200px;
            --tv-main: #ff9800;
            --tv-side: #e65100;
        }

        body {
            margin: 0; height: 100vh; background: #eaedf2;
            display: flex; justify-content: center; align-items: center;
            perspective: 1500px; font-family: 'VT323', monospace;
            overflow: hidden;
        }

        /* --- CONTAINER 3D --- */
        .scene {
            position: relative;
            transform-style: preserve-3d;
            /* Ângulo clássico da sua primeira imagem */
            transform: rotateX(-15deg) rotateY(35deg);
        }

        .tv-cube {
            position: relative;
            width: var(--w);
            height: var(--h);
            transform-style: preserve-3d;
        }

        /* --- FACES COM FECHAMENTO CALCULADO --- */
        .face {
            position: absolute;
            box-sizing: border-box;
            border: 1px solid rgba(0,0,0,0.05);
        }

        /* Frente: Posicionada na metade da profundidade à frente */
        .front {
            width: var(--w); height: var(--h);
            background: var(--tv-main);
            transform: translateZ(calc(var(--d) / 2));
            border-radius: 20px;
            display: flex; align-items: center; justify-content: center;
            z-index: 2;
        }

        /* Trás: Posicionada na metade da profundidade atrás */
        .back {
            width: var(--w); height: var(--h);
            background: var(--tv-side);
            transform: rotateY(180deg) translateZ(calc(var(--d) / 2));
            border-radius: 20px;
        }

        /* Lado Direito */
        .right {
            width: var(--d); height: var(--h);
            background: var(--tv-side);
            /* Gira 90º e move metade da largura para o lado */
            transform: rotateY(90deg) translateZ(calc(var(--w) / 2));
            left: calc(50% - (var(--d) / 2));
        }

        /* Lado Esquerdo */
        .left {
            width: var(--d); height: var(--h);
            background: var(--tv-side);
            transform: rotateY(-90deg) translateZ(calc(var(--w) / 2));
            left: calc(50% - (var(--d) / 2));
        }

        /* Topo: Fecha o teto perfeitamente */
        .top {
            width: var(--w); height: var(--d);
            background: var(--tv-main);
            filter: brightness(1.1);
            transform: rotateX(90deg) translateZ(calc(var(--d) / 2));
            top: calc(50% - (var(--d) / 2));
            border-radius: 10px;
        }

        /* Base / Sombra */
        .bottom {
            width: var(--w); height: var(--d);
            background: rgba(0,0,0,0.15);
            transform: rotateX(-90deg) translateZ(calc(var(--h) - (var(--d) / 2)));
            top: calc(50% - (var(--d) / 2));
            filter: blur(20px);
            border-radius: 50%;
        }

        /* --- CONTEÚDO DA TELA --- */
        .bezel {
            width: 70%; height: 75%;
            background: #1a1a1a;
            border: 8px solid #332211;
            border-radius: 25px 25px 25px 10px;
            position: relative; overflow: hidden;
            box-shadow: inset 0 0 30px #000;
        }

        .status-led {
            position: absolute; top: 15px; right: 20px;
            color: #0f0; font-size: 18px; z-index: 10;
            text-shadow: 0 0 8px #0f0;
        }

        video, iframe {
            width: 100%; height: 100%; border: none;
            object-fit: cover;
        }

        /* --- DETALHES VISUAIS --- */
        .antenna-system {
            position: absolute; top: -140px; left: 50%;
            transform: translateX(-50%);
            width: 4px; height: 4px;
            transform-style: preserve-3d;
        }
        .rod {
            position: absolute; bottom: 0;
            width: 4px; height: 160px;
            background: linear-gradient(#eee, #888);
            transform-origin: bottom;
            border-radius: 2px;
        }
        .rod.l { transform: rotateZ(-25deg); }
        .rod.r { transform: rotateZ(25deg); }
        .ball {
            position: absolute; top: -5px; left: -2px;
            width: 8px; height: 8px; background: #333; border-radius: 50%;
        }

        .side-controls {
            display: flex; flex-direction: column; gap: 15px;
            margin-left: 15px;
        }
        .knob {
            width: 35px; height: 35px;
            background: #443322; border-radius: 50%;
            border: 3px solid #221100;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.3);
        }

        /* --- CONTROLE REMOTO NO CHÃO --- */
        .remote {
            position: absolute; bottom: -100px; right: -120px;
            width: 60px; height: 110px; background: #e0e0e0;
            border-radius: 10px;
            transform: translateZ(20px);
            box-shadow: 
                0 6px 0 #bbb, 
                15px 15px 30px rgba(0,0,0,0.1);
            display: flex; flex-direction: column; align-items: center; 
            padding: 10px; gap: 10px; cursor: pointer;
        }
        .btn-pwr { width: 20px; height: 20px; background: #ff4b4b; border-radius: 50%; }
        .btn-gen { width: 35px; height: 12px; background: #aaa; border-radius: 4px; }

    </style>
</head>
<body>

<div class="scene">
    <div class="tv-cube">
        <div class="face bottom"></div>
        <div class="face back"></div>
        <div class="face left"></div>
        <div class="face right"></div>
        <div class="face top">
            <div class="antenna-system">
                <div class="rod l"><div class="ball"></div></div>
                <div class="rod r"><div class="ball"></div></div>
            </div>
        </div>
        
        <div class="face front">
            <div class="bezel">
                <div class="status-led" id="info">LIVE</div>
                
                <div id="player-wrapper" style="width:100%; height:100%;">
                    <div id="yt-api-player"></div>
                </div>
                <video id="backup-player" loop muted playsinline style="display:none;"></video>
            </div>

            <div class="side-controls">
                <div class="knob"></div>
                <div class="knob"></div>
                <div style="width:40px; height:60px; background: repeating-linear-gradient(0deg, #221100 0 2px, transparent 2px 5px); opacity:0.7"></div>
            </div>
        </div>
    </div>

    <div class="remote" id="remote-control">
        <div class="btn-pwr"></div>
        <div class="btn-gen"></div>
        <div class="btn-gen" style="background:#4da6ff"></div>
        <div class="btn-gen"></div>
    </div>
</div>

<script>
    // IDs de confiança (Lofi e Natureza)
    const ytID = 'jfKfPfyJRdk'; 
    const backupMP4 = 'https://archive.org/download/BigBuckBunny_124/Content/big_buck_bunny_720p_surround.mp4';

    let player;
    let isBackup = false;

    // API Youtube
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    function onYouTubeIframeAPIReady() {
        player = new YT.Player('yt-api-player', {
            videoId: ytID,
            playerVars: { 'autoplay': 1, 'controls': 0, 'mute': 1, 'loop': 1, 'playlist': ytID },
            events: {
                'onError': () => activateBackup(),
                'onReady': (e) => e.target.playVideo()
            }
        });
    }

    function activateBackup() {
        if(isBackup) return;
        isBackup = true;
        document.getElementById('player-wrapper').style.display = 'none';
        const v = document.getElementById('backup-player');
        v.style.display = 'block';
        v.src = backupMP4;
        v.play();
        document.getElementById('info').innerText = "BACKUP";
    }

    // Controle Remoto
    document.getElementById('remote-control').addEventListener('click', () => {
        const info = document.getElementById('info');
        info.innerText = "SWITCH";
        activateBackup();
        setTimeout(() => { info.innerText = isBackup ? "BACKUP" : "LIVE"; }, 1500);
    });

    // Timeout de segurança para o Youtube (5 segundos)
    setTimeout(() => {
        if(!isBackup && (!player || typeof player.getPlayerState !== 'function')) {
            activateBackup();
        }
    }, 5000);
</script>

</body>
</html>
